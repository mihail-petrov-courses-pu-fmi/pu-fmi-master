# –°—Ä–µ—â–∞ 3 - Dependancy injection –∏ –¥—Ä—É–≥–∏ HTTP –∏—Å—Ç–æ—Ä–∏–∏

#### üí° - –ö–∞–∫–≤–æ —Ä–∞–∑–≥–ª–µ–¥–∞—Ö–º–µ –¥–Ω–µ—Å
- –ö–∞–∫–≤–æ —Å–∞ –ø—Ä–æ–±–ª–µ–º–∏—Ç–µ –Ω–∏ –¥–æ –º–æ–º–µ–Ω—Ç–∞ - –∫–∞–∫ –¥–∞ —Å–∏ –¥–æ–±–∞–≤–∏–º –ª–æ–≥–∏–∫–∞ –∑–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞ –∑–∞—è–≤–∫–∏;
- –ö–æ–Ω—Ü–µ–ø—Ü–∏—è –∑–∞ –º–µ—Ç–∞ –ø—Ä–æ–≥—Ä–∞–º–∏—Ä–∞–Ω–µ –∏ Reflection;
- –î–∞ —Å–∏ –Ω–∞–ø—Ä–∞–≤–∏–º –±–∞–∑–æ–≤ JSON –ø–∞—Ä—Å—ä—Ä –∑–∞ –¥–∞ –≤–∏–¥–∏–º –ª–æ–≥–∏–∫–∞—Ç–∞ –∑–∞–¥ –∫–æ–Ω—Ü–µ–ø—Ü–∏—è—Ç–∞;
- –ö–∞–∫–≤–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–≤–∞—Ç –∞–Ω–æ—Ç–∞—Ü–∏–∏—Ç–µ –≤ Java –∏ –∫–∞–∫ –¥–∞ –µ—Ç–∏–∫–µ—Ç–∏—Ä–∞–º–µ —Å—ä—Å—Ç–æ—è–Ω–∏–µ—Ç–æ –Ω–∞ –Ω–∞—à–∏—Ç–µ –∫–ª–∞—Å–æ–≤–µ.
- –ê–∫—Ç—É–∞–ª–∏–∑–∏—Ä–∞–Ω–µ –Ω–∞ —Ç–µ–∫—É—â–∞—Ç–∞ –≤–µ—Ä—Å–∏—è –Ω–∞ –Ω–∞—à–∏—è HTTP —Å—ä—Ä–≤—ä—Ä

#### üïπÔ∏è - –†–µ—Å—É—Ä—Å–∏ –∏ –º–∞—Ç–µ—Ä–∏–∞–ª–∏
 * [–°–æ—Ä—Å –∫–æ–¥ –Ω–∞ —Å—ä—Ä–≤—ä—Ä–∞](./source/MyHttpServer)


### üü¶ –ö–∞–∫–≤–æ —Ç—Ä—è–±–≤–∞ –¥–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∏–º ?

#### –í—Ä—ä—â–∞–Ω–∏ —Ç–∏–ø–æ–≤–µ –ø—Ä–∏ —Ä–∞–±–æ—Ç–∞ —Å –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä –º–µ—Ç–æ–¥–∏
–ö—ä–º –º–æ–º–µ–Ω—Ç–∞, –º–µ—Ç–æ–¥–∏—Ç–µ –∫–æ–∏—Ç–æ —Å–µ –∞–Ω–æ—Ç–∏—Ä–∞—Ç —Å HTTPMethod –∞–Ω–æ—Ç–∞—Ü–∏—è—Ç–∞, –Ω—è–º–∞—Ç —Å–ø–µ—Ü–∏—Ñ–∏—á–µ–Ω —Ç–∏–ø —Å –∫–æ–π—Ç–æ –¥–∞ —É–∫–∞–∑–≤–∞—Ç –∫–∞–∫–≤–æ –º–æ–≥–∞—Ç –¥–∞ –≤—ä—Ä–Ω–∞—Ç. –î–µ—Ñ–∏–Ω–∏—Ä–∞–ª–∏ —Å–º–µ String –∫–∞—Ç–æ –Ω–∞ —á–∏—Å—Ç–æ –∏–¥–µ–π–Ω–æ –Ω–∏–≤–æ —Ç–æ–π —Ç—Ä—è–±–≤–∞ –¥–∞ –≤—Ä—ä—â–∞ HTML —Å—Ç—Ä—É–∫—Ç—É—Ä–∞. 

```java
@HttpController
public class UserController {

    @HttpMethod(path = "/users/page")
    public String getUserPage() {
        return "<div class='card'>" +
                "<ul>" +
                "<li>Mihail Petrov</li>" +
                "<li>Ivan Ivanov</li>" +
                "</ul>" +
                "</div>";
    }
}
```

–¢–æ–≤–∞ –æ–±–∞—á–µ –µ –¥–æ—Å—Ç–∞ –Ω–µ—É–¥–æ–±–Ω–∞ –∏–¥–µ—è, –∑–∞—â–æ—Ç–æ –¥–æ—Å—Ç–∞ —Ä—è–¥–∫–æ –∏—Å–∫–∞–º–µ –¥–∞ —Ä–∞–∑–ø–∏—à–µ–º –æ–≥—Ä–æ–º–Ω–æ –∫–æ–ª–∏—á–µ—Å—Ç–æ HTML –¥–∏—Ä–µ–∫—Ç–Ω–æ –≤ –∫–æ–¥–∞ –Ω–∞ –º–µ—Ç–æ–¥–∞, –ø–æ –≤—ä–∑–º–æ–∂–Ω–æ –Ω–∞–π-–Ω–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–∞–Ω–∏—è –Ω–∞—á–∏–Ω, –Ω–∞ —Å–≤–µ—Ç–∞. 

–†–µ—à–∏–µ–Ω–∏–µ—Ç–æ –Ω–∞ —Ç–æ–∑–∏ –ø—Ä–æ–±–ª–µ–º –µ –¥–∞ –æ—Ä–≥–∞–Ω–∏–∑–∏—Ä–∞–º–µ –≤—Ä—ä—â–∞–Ω–∏—Ç–µ —Ç–∏–ø–æ–≤–µ, –ø–æ –¥–æ—Å—Ç–∞ –ø–æ —É–¥–æ–±–µ–Ω –∑–∞ –∫—Ä–∞–π–Ω–∏—è –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª –Ω–∞—á–∏–Ω.

<table>
    <thead>
        <tr>
            <th width="120">–í—Ä—ä—â–∞–Ω —Ç–∏–ø</th>
            <th>–û–±—è—Å–Ω–µ–Ω–∏–µ</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>
                <code>String</code><br>
            </td>
            <td>
                –¢–∏–ø–∏—á–Ω–æ –æ–∑–Ω–∞—á–∞–≤–∞ —á–µ –≤—Ä—ä—â–∞–º–µ HTML —Ä–µ—Ñ–µ—Ä–µ–Ω—Ü–∏—è –∫—ä–º –Ω—è–∫–∞–∫—ä–≤ –¥–æ–∫—É–º–µ–Ω—Ç
            </td>
        </tr>
        <tr>
            <td>
                <code>View</code><br>
            </td>
            <td>
                –†–∞–∑—à–∏—Ä–µ–Ω–∏–µ –Ω–∞ –≥–æ—Ä–Ω–∞—Ç–∞ –∫–æ–Ω—Ü–µ–ø—Ü–∏—è, –≤—Ä—ä—â–∞ —Å–ø–µ—Ü–∏–∞–ª–µ–Ω View –æ–±–µ–∫—Ç, –∫–æ–π—Ç–æ –º–æ–∂–µ –¥–∞ –±—ä–¥–µ –¥–æ–ø—ä–ª–Ω–∏—Ç–µ–ª–Ω–æ —Ö–∏–¥—Ä–∏—Ä–∞–Ω —Å –æ–±–µ–∫—Ç–∏, –∫–æ–∏—Ç–æ –¥–∞ –º–æ–≥–∞—Ç –¥–∞ –¥–æ–±–∞–≤—è—Ç –¥–∏–Ω–∞–º–∏—á–Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –∫—ä–º HTML —Ç–µ–º–ø–ª–µ–π—Ç–∞
            </td>
        </tr>        
        <tr>
            <td>
                <code>JSONResponse</code><br>
            </td>
            <td>
                –í—Ä—ä—â–∞ –æ–±–µ–∫—Ç, –∫–æ–π—Ç–æ —â–µ –±—ä–¥–∞ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∏—Ä–∞–Ω, –≤ –ø–æ–¥—Ö–æ–¥—è—â–∞ JSON —Å—Ç—Ä—É–∫—Ç—É—Ä–∞.
            </td>
        </tr>                
    <tbody>
</table>


#### –ü—Ä–µ–¥–∞–≤–∞–Ω–µ –Ω–∞ Query –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –∫—ä–º Controller –º–µ—Ç–æ–¥–∞
–í—Å–∏—á–∫–∏ –∑–∞—è–≤–∫–∏, –∫–æ–∏—Ç–æ –æ–±—Ä–∞–±–æ—Ç–≤–∞–º–µ –¥–æ –º–æ–º–µ–Ω—Ç–∞ –Ω—è–º–∞—Ç, —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–∏ query –ø–∞—Ä–∞–º–µ—Ç—Ä–∏. –¢—Ä—è–±–≤–∞ –¥–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∏–º –¥–≤–∞ —Ç–∏–ø–∞ —É—Å–ª–æ–≤–Ω–æ –∞—Ä–≥—É–º–µ–Ω—Ç–∏—Ä–∞–Ω–µ:
- Query –ø–∞—Ä–∞–º–µ—Ç—ä—Ä
- –ó–∞–¥—ä–ª–∂–∏—Ç–µ–ª–µ–Ω URL –ø–∞—Ä–∞–º–µ—Ç—ä—Ä
- –û–ø—Ü–∏–æ–Ω–∞–ª–µ–Ω URL –ø–∞—Ä–∞–º–µ—Ç—ä—Ä

–í—Å–∏—á–∫–∏ –ø–∞—Ä—Å–∏—Ä–∞–Ω–∏, HTTP –¥–∞–Ω–Ω–∏ —Ç—Ä—è–±–≤–∞ –¥–∞ –±—ä–¥–∞—Ç –ø—Ä–µ–¥–∞–¥–µ–Ω–∏ –Ω–∞ –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä –º–µ—Ç–æ–¥–∞, –∫–æ–π—Ç–æ –µ –æ—Ç–≥–æ–≤–æ—Ä–µ–Ω –∑–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞—Ç–∞ –Ω–∞ —Ç–µ–∫—É—â–∞—Ç–∞ –∑–∞—è–≤–∫–∞. 

#### Dependancy inhection
–©–µ –Ω–∞–ø—Ä–∞–≤–∏–º –ø—ä—Ä–≤–∞—Ç–∞ –∫—Ä–∞—á–∫–∞ –∫—ä–º –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏—è—Ç–∞ –Ω–∞ –º–∞–≥–∏—á–µ—Å–∫–∞ —Å–∏—Å—Ç–µ–º–∞ –∑–∞ –∏–Ω—Å—Ç–∞–Ω—Ü–∏—Ä–∞–Ω–µ –Ω–∞ —Ç–∞–∫–∞ –Ω–∞—Ä–µ—á–µ–Ω–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏. –ö–æ–Ω—Ü–µ–ø—Ü–∏—è—Ç–∞ –µ —Å–ª–æ–∂–Ω–∞, –Ω–æ —â–µ —Å—ä–∑–¥–∞–¥–µ–º –±–∞–∑–æ–≤ –¥–∏–∑–∞–π–Ω, –∫–æ–π—Ç–æ –¥–∞ –Ω–∏ –¥–∞–≤–∞ –≤—ä–∑–º–æ–∂–Ω–æ—Å—Ç –¥–∞ –∏–Ω–∂–µ–∫—Ç–∏—Ä–∞–º–µ –∏–Ω—Å—Ç–∞–Ω—Ü–∏–∏ –≤ –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä –∏ —Å—ä—Ä–≤–∏—Å –∫–ª–∞—Å–æ–≤–µ, –∫–æ–∏—Ç–æ –¥–∞ –º–æ–≥–∞—Ç –¥–∞ –±—ä–¥–∞—Ç –ø–æ–ª–∑–≤–∞–Ω–∏ –ø—Ä–æ–∑—Ä–∞—á–Ω–æ, –≤ —Å–∏—Å—Ç–µ–º–∞—Ç–∞.
